---
import BtnLink from "../shared/BtnLink.astro";
import Container from "../shared/Container.astro";
import Navitem from "../shared/Navitem.astro";

const navItems = [
  { href: "#", text: "Inicio" },
  { href: "#services", text: "Servicios" },
  { href: "#about-us", text: "Nosotros" },
  { href: "#project", text: "Proyecto" },
  { href: "#project", text: "Testimonios" },
  { href: "#project", text: "Contacto" },
];
---

<header
  class="fixed inset-x-0 top-0 z-50 backdrop-blur-md bg-white/70 dark:bg-neutral-900/70 border-b border-gray-200 dark:border-neutral-800 py-5"
>
  <Container>
    <nav class="w-full flex justify-between items-center gap-6 relative">
      <!-- Logo -->
      <div class="inline-flex items-center gap-3 min-w-max">
        <a href="/" class="flex items-center gap-3">
          <!-- Logo modo claro -->
          <img
            src="/nexsign.png"
            alt="Logo NexSign Light"
            class="w-10 h-10 object-contain block dark:hidden"
          />
          <!-- Logo modo oscuro -->
          <img
            src="/nexsign_dark.png"
            alt="Logo NexSign Dark"
            class="w-10 h-10 object-contain hidden dark:block"
          />

          <div class="text-lg font-semibold text-heading-1 dark:text-white">
            NexSign
          </div>
        </a>
      </div>

      <!-- Navegación principal (escritorio) -->
      <ul class="hidden lg:flex gap-8 text-heading-2">
        {navItems.map((item) => <Navitem {...item} />)}
      </ul>

      <!-- Botones a la derecha -->
      <div class="flex items-center gap-4">
        <!-- Switch Dark/Light -->
        <button
          data-switch-theme
          class="outline-none p-2 border border-box-border rounded-full flex items-center justify-center"
        >
          <!-- Luna (modo oscuro) -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 hidden dark:block text-white"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M21.75 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"
            ></path>
          </svg>
          <!-- Sol (modo claro) -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="w-6 h-6 dark:hidden text-[#020D3B]"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M12 3v2m6.364.364l-1.414 1.414M21 12h-2M18.364 18.364l-1.414-1.414M12 21v-2m-6.364-.364l1.414-1.414M3 12h2m-.364-6.364l1.414 1.414M12 7a5 5 0 100 10 5 5 0 000-10z"
            ></path>
          </svg>
        </button>

        <!-- Botón Get Started -->
        <BtnLink
          text="Get Started"
          href="#cta"
          className="w-max"
          variant="primary"
        />

        <!-- Menú hamburguesa móvil con SVG dinámico -->
        <button
          data-toggle-nav
          data-open-nav="false"
          class="outline-none w-8 h-8 flex items-center justify-center lg:hidden relative"
        >
          <!-- Icono: Abrir -->
          <svg
            data-icon-open
            class="absolute inset-0 w-full h-full transition-opacity duration-200 ease-in-out text-heading-2 block"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3 12H21M3 6H21M9 18H21"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>

          <!-- Icono: Cerrar -->
          <svg
            data-icon-close
            class="absolute inset-0 w-full h-full transition-opacity duration-200 ease-in-out opacity-0 pointer-events-none text-heading-2"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18 6L6 18M6 6L18 18"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>

          <span class="sr-only">Toggle navigation</span>
        </button>
      </div>
    </nav>

    <!-- Menú móvil desplegable -->
    <div
      data-navbar
      class="lg:hidden overflow-hidden transition-all duration-300 h-0 bg-white dark:bg-neutral-900 absolute top-full left-0 right-0 z-40"
    >
      <ul class="flex flex-col gap-6 p-6 text-heading-2">
        {navItems.map((item) => <Navitem {...item} />)}
      </ul>
    </div>

    <!-- Fondo oscuro detrás del menú -->
    <div
      data-nav-overlay
      data-is-visible="false"
      class="fixed inset-0 z-30 bg-black/50 hidden"
    >
    </div>
  </Container>
</header>
